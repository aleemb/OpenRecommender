<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Yahoo! OS SDK - PHP: YahooSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>YahooSession Class Reference</h1><!-- doxytag: class="YahooSession" -->Defines a session between an application and the Yahoo! platform.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classYahooSession-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#97ad3a29ea16880703add423f2085de0">getSessionedUser</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#4980bdd193cf09e4947aa4ccb0a2b15b">getOwner</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#666aa94b4442e4c12f78fdc9f9060d7a">getUser</a> ($guid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#f45488c087b13cd4a5437b674c1021f3">query</a> ($yql, $env=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#a0ba86381b9b0cde07a13bb5993d8ed3">clearSession</a> ($sessionStore=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#7beba218bfb6489e7aad5fe42e71eed7">hasSession</a> ($consumerKey, $consumerSecret, $applicationId=NULL, $sessionStore=NULL, $verifier=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#c21ba0c858b456ca29ccacac45c77fa1">requireSession</a> ($consumerKey, $consumerSecret, $applicationId=NULL, $callback=NULL, $sessionStore=NULL, $verifier=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYahooSession.html#6bfb9d946487fa2087a73bac0a3deb12">createAuthorizationUrl</a> ($consumerKey, $consumerSecret, $callback=NULL, $sessionStore=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8bba0ce779ea5e0e377175ccf0802383"></a><!-- doxytag: member="YahooSession::initSessionFromYAP" ref="8bba0ce779ea5e0e377175ccf0802383" args="($consumerKey, $consumerSecret, $appid)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>initSessionFromYAP</b> ($consumerKey, $consumerSecret, $appid)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Defines a session between an application and the Yahoo! platform. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a0ba86381b9b0cde07a13bb5993d8ed3"></a><!-- doxytag: member="YahooSession::clearSession" ref="a0ba86381b9b0cde07a13bb5993d8ed3" args="($sessionStore=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::clearSession           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sessionStore</em> = <code>NULL</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroys the current session, effectively logging out the current user.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$sessionStore</em>&nbsp;</td><td>The session store implementation to clear. See <a class="el" href="interfaceYahooSessionStore.html" title="The session store interface.">YahooSessionStore</a> for more information. If no session store is provided, clearSession will instantiate a <a class="el" href="classCookieSessionStore.html" title="Cookie-based implementation of the session store.">CookieSessionStore</a> and use that. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6bfb9d946487fa2087a73bac0a3deb12"></a><!-- doxytag: member="YahooSession::createAuthorizationUrl" ref="6bfb9d946487fa2087a73bac0a3deb12" args="($consumerKey, $consumerSecret, $callback=NULL, $sessionStore=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::createAuthorizationUrl           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>consumerKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>consumerSecret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>callback</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sessionStore</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates authorization URLs, allowing applications to manage their user experience when the user needs to be sent to Yahoo! to authorize the application to access their account.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$consumerKey</em>&nbsp;</td><td>The OAuth consumer key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$consumerSecret</em>&nbsp;</td><td>The OAuth consumer key secret. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$callback</em>&nbsp;</td><td>The callback URL to redirect the user to after they verify the application access. If no callback is provided, the current page URL will be used. Use the "oob" callback for desktop clients or for web clients where no callback should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$sessionStore</em>&nbsp;</td><td>The session store implementation to use. See <a class="el" href="interfaceYahooSessionStore.html" title="The session store interface.">YahooSessionStore</a> for more information. If no session store is provided, createAuthorizationUrl will instantiate a <a class="el" href="classCookieSessionStore.html" title="Cookie-based implementation of the session store.">CookieSessionStore</a> and use that. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>stdclass A PHP object with two properties: "urlWithCallback" and "urlWithoutCallback". This allows the application to mix and match authorizations that do and don't have callbacks in the URLs. urlWithoutCallback is useful for JavaScript popup windows while urlWithCallback is useful for normal  tags. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4980bdd193cf09e4947aa4ccb0a2b15b"></a><!-- doxytag: member="YahooSession::getOwner" ref="4980bdd193cf09e4947aa4ccb0a2b15b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::getOwner           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the user who owns the application install. Only valid when viewed in YAP, otherwise will default to the logged-in user.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classYahooUser.html" title="Represents a Yahoo! user.">YahooUser</a> The currently sessioned <a class="el" href="classYahooUser.html" title="Represents a Yahoo! user.">YahooUser</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="97ad3a29ea16880703add423f2085de0"></a><!-- doxytag: member="YahooSession::getSessionedUser" ref="97ad3a29ea16880703add423f2085de0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::getSessionedUser           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the currently sessioned user.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classYahooUser.html" title="Represents a Yahoo! user.">YahooUser</a> The currently sessioned <a class="el" href="classYahooUser.html" title="Represents a Yahoo! user.">YahooUser</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="666aa94b4442e4c12f78fdc9f9060d7a"></a><!-- doxytag: member="YahooSession::getUser" ref="666aa94b4442e4c12f78fdc9f9060d7a" args="($guid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::getUser           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>guid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the user indicated by the GUID given.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$guid</em>&nbsp;</td><td>The GUID of the user to get. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classYahooUser.html" title="Represents a Yahoo! user.">YahooUser</a> The user indicated by the GUID given. </dd></dl>

</div>
</div><p>
<a class="anchor" name="7beba218bfb6489e7aad5fe42e71eed7"></a><!-- doxytag: member="YahooSession::hasSession" ref="7beba218bfb6489e7aad5fe42e71eed7" args="($consumerKey, $consumerSecret, $applicationId=NULL, $sessionStore=NULL, $verifier=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::hasSession           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>consumerKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>consumerSecret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>applicationId</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sessionStore</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>verifier</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks to see if there is a session in this PHP page request. Doesn't cause any redirects for the user to log in, for that you should call <a class="el" href="classYahooSession.html#c21ba0c858b456ca29ccacac45c77fa1">requireSession()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$consumerKey</em>&nbsp;</td><td>The OAuth consumer key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$consumerSecret</em>&nbsp;</td><td>The OAuth consumer key secret. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$applicationId</em>&nbsp;</td><td>The application ID, optional. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$sessionStore</em>&nbsp;</td><td>The session store implementation to use. See <a class="el" href="interfaceYahooSessionStore.html" title="The session store interface.">YahooSessionStore</a> for more information. If no session store is provided, clearSession will instantiate a <a class="el" href="classCookieSessionStore.html" title="Cookie-based implementation of the session store.">CookieSessionStore</a> and use that. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>boolean True if a session is present, false otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f45488c087b13cd4a5437b674c1021f3"></a><!-- doxytag: member="YahooSession::query" ref="f45488c087b13cd4a5437b674c1021f3" args="($yql, $env=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::query           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>yql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>env</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Executes the given YQL query.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$yql</em>&nbsp;</td><td>The query to execute. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$env</em>&nbsp;</td><td>A URL to a YQL environment file. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The response or NULL if the request fails.. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c21ba0c858b456ca29ccacac45c77fa1"></a><!-- doxytag: member="YahooSession::requireSession" ref="c21ba0c858b456ca29ccacac45c77fa1" args="($consumerKey, $consumerSecret, $applicationId=NULL, $callback=NULL, $sessionStore=NULL, $verifier=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YahooSession::requireSession           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>consumerKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>consumerSecret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>applicationId</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>callback</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sessionStore</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>verifier</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Requires that there be a session in this PHP page request. Generates a redirect for the user to log in, if necessary. You must call <a class="el" href="classYahooSession.html#c21ba0c858b456ca29ccacac45c77fa1">requireSession()</a> before any data is sent back to the user in order for the redirect to work.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$consumerKey</em>&nbsp;</td><td>The OAuth consumer key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$consumerSecret</em>&nbsp;</td><td>The OAuth consumer key secret. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$applicationId</em>&nbsp;</td><td>The application ID, optional. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$callback</em>&nbsp;</td><td>The callback URL to redirect the user to after they verify the application access. If no callback is provided, the current page URL will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$sessionStore</em>&nbsp;</td><td>The session store implementation to use. See <a class="el" href="interfaceYahooSessionStore.html" title="The session store interface.">YahooSessionStore</a> for more information. If no session store is provided, clearSession will instantiate a <a class="el" href="classCookieSessionStore.html" title="Cookie-based implementation of the session store.">CookieSessionStore</a> and use that. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$verifier</em>&nbsp;</td><td>The oauth_verifier returned by the OAuth servers after authorization. Passing NULL indicates that authorization was completed previously or that <a class="el" href="classYahooSession.html#c21ba0c858b456ca29ccacac45c77fa1">requireSession()</a> should look for oauth_verifier in the $_GET superglobal. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classYahooSession.html" title="Defines a session between an application and the Yahoo! platform.">YahooSession</a> The current session or NULL if a session cannot be established. </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>lib/Yahoo.inc</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 18 14:55:31 2009 for Yahoo! OS SDK - PHP by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
